<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>ant: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ant
   </div>
   <div id="projectbrief">A2 ant: class-based analysis framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ant Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/A2-Collaboration-dev/ant">![Build status master branch](https://travis-ci.org/A2-Collaboration-dev/ant.svg?branch=master)</a> <a href="https://codecov.io/github/A2-Collaboration-dev/ant?branch=master">![Codecov status master branch](https://codecov.io/github/A2-Collaboration-dev/ant/coverage.svg?branch=master)</a></p>
<h1>ant </h1>
<p>Just another **AN**alysis **T**oolkit <code>ant</code>, which can read from many input sources with minimal user intervention and let's you create Physics analysis within minutes.</p>
<p>Please see also the automatically generated <a href="http://a2-collaboration-dev.github.io/ant/">Doxygen pages</a>.</p>
<h2>Dependencies</h2>
<ul>
<li>C++11 (gcc &gt;4.8.2 should work)</li>
<li>cmake &gt;2.8</li>
<li>doxygen (optional)</li>
<li><a href="https://root.cern.ch/">CERN ROOT5</a> (not ROOT6)</li>
<li><a href="https://www-hades.gsi.de/?q=pluto">PLUTO</a></li>
<li><a href="https://github.com/A2-Collaboration-dev/APLCON">APLCON++</a></li>
</ul>
<h2>Installation</h2>
<p>Please make sure that you fulfill the dependencies. Once you installed <a href="https://root.cern.ch/building-root">ROOT</a> and PLUTO, you need to install the <a href="https://github.com/A2-Collaboration-dev/APLCON">APLCON C++ wrapper</a>. The easiest way is to clone the repository relative to your ant directory at <code>../APLCON</code>. This way CMake will automatically detect it.</p>
<h4>APLCON++</h4>
<p>To build APLCON++, clone the respository with</p>
<p><code>git clone <a href="https://github.com/A2-Collaboration-dev/APLCON.git">https://github.com/A2-Collaboration-dev/APLCON.git</a></code></p>
<p>and <code>cd</code> to the created APLCON directory. Create a build directory and run cmake:</p>
<p><code>mkdir build &amp;&amp; cd build &amp;&amp; cmake ..</code></p>
<p>Finally run <code>make</code> to build the needed libraries.</p>
<h4>ant</h4>
<p>Now you should be able to compile the ant framework. Therefore clone this respository, either directly from <a href="https://github.com/A2-Collaboration-dev/ant.git">https://github.com/A2-Collaboration-dev/ant.git</a> or you may want to fork it. As mentioned above, the installation works best when the APLCON and ant folder reside in the same directory. Inside your ant directory create a build direcory:</p>
<p><code>mkdir build &amp;&amp; cd build &amp;&amp; cmake ..</code></p>
<p>Then start the parallel compilation for example on a QuadCore machine with <code>make -j5</code>. You may want to add your <code>ant/build/bin</code> directory to your <code>$PATH</code> variable.</p>
<h2>Troubleshooting</h2>
<ul>
<li>In case CMake is not able to locate your Pluto installation, you can provide the environment variable <code>$PLUTOSYS</code> to tell CMake where to find it. If you installed Pluto inside your home directory, <code>~/pluto</code> or <code>~/src/pluto</code>, or placed it in <code>/opt/pluto</code>, the make process may have failed. Please make sure you ran <code>make</code> in your Pluto directory with a proper ROOT installation.</li>
<li>If you're using gcc version 5.X and experiencing build errors within ROOT generated dictionary files (i.e. redeclaration of <code>struct __xfer_bufptrs</code>), please update to a more recent ROOT version. As of November 2015, you need to clone the git branch which includes the patches. To do so:<ul>
<li>get the source with<code>git clone -b v5-34-00-patches <a href="https://github.com/root-mirror/root.git">https://github.com/root-mirror/root.git</a></code></li>
</ul>
</li>
<li><code>cd</code> in the cloned directory</li>
<li>create a new folder for the build process, e.g. <code>mkdir build_dir</code></li>
<li><code>cd</code> in it and run <code>cmake .. &amp;&amp; make -jN</code>, replace <code>N</code> with the number of threads which should be used<ul>
<li>set your <code>$ROOTSYS</code> accordingly</li>
</ul>
</li>
</ul>
<h1>Contributing</h1>
<p>Please read the following sections if you want to contribute to this project.</p>
<h2>Coding Style</h2>
<ul>
<li>Indentation: 4 spaces, no tabs anywhere</li>
<li>Ant-Codesytle defined in <a href="doc/Ant-Codestyle.xml">doc/Ant-Codestyle.xml</a> (import to QtCreator)</li>
<li><code>#include</code> statements:<ul>
<li>header file for this .cc file first</li>
<li>then grouped by ant, ROOT, STL, others</li>
<li>one line between groups</li>
<li>each group ordered alphabetically</li>
</ul>
</li>
</ul>
<h2>Development Status</h2>
<ul>
<li>[x] Unpacker for Acqu Mk2 data</li>
<li>[x] Unpacker for a2geant data</li>
<li>[ ] <a href="src/calibration/modules">Calibration modules</a>:<ul>
<li>[x] CB Energy/Timewalk</li>
<li>[x] TAPS Energy</li>
<li>[x] Time offsets for PID/CB/TAPS/Tagger</li>
<li>[ ] Complete calibration cycle on blaster</li>
</ul>
</li>
<li>[ ] <a href="src/expconfig/setups">Experiment configuration</a><ul>
<li>[x] EPT 2014 beamtimes</li>
<li>[ ] Any normal tagger beamtime</li>
<li>[ ] Wire chamber</li>
</ul>
</li>
<li>[x] Reconstruct<ul>
<li>[x] Apply calibration factors</li>
<li>[x] Update calibration factors</li>
<li>[x] Clustering</li>
<li>[x] Candidate builder (Veto/Calorimeter matching)</li>
</ul>
</li>
<li>[ ] Physics<ul>
<li>[x] Data structure for events</li>
<li>[x] Input readers</li>
<li>[ ] Slowcontrol handling</li>
<li>[ ] Kinematic fitting on measured data</li>
</ul>
</li>
</ul>
<h2>Detector Type Mapping</h2>
<table class="doxtable">
<tr>
<th>Ant Reconstruct </th><th>Ant Analysis </th><th>Goat  </th></tr>
<tr>
<td>Trigger </td><td>- </td><td>- </td></tr>
<tr>
<td>Tagger </td><td>- </td><td>- </td></tr>
<tr>
<td>TaggerMicroscope </td><td>- </td><td>- </td></tr>
<tr>
<td>EPT </td><td>- </td><td>- </td></tr>
<tr>
<td>Moeller </td><td>- </td><td>- </td></tr>
<tr>
<td>PairSpec </td><td>- </td><td>- </td></tr>
<tr>
<td>CB </td><td>CB </td><td>NaI </td></tr>
<tr>
<td>PID </td><td>PID </td><td>PID </td></tr>
<tr>
<td>MWPC0 </td><td>MWPC0 </td><td>MWPC </td></tr>
<tr>
<td>MWPC1 </td><td>MWPC1 </td><td></td></tr>
<tr>
<td>TAPS </td><td>TAPS </td><td>BaF2 </td></tr>
<tr>
<td></td><td></td><td>PbWO4 </td></tr>
<tr>
<td>TAPSVeto </td><td>TAPSVeto </td><td>Veto </td></tr>
<tr>
<td>Cherenkov </td><td>Cherenkov </td><td>- </td></tr>
</table>
<h2>External Components</h2>
<p>Have a look at those very nice projects, which are used here:</p>
<ul>
<li><a href="http://easylogging.muflihun.com/">Easylogging++</a></li>
<li><a href="https://github.com/philsquared/Catch">Catch</a> framework for unit-tests, test-driven development. See <a href="test/">the test/ subdirectory</a>.</li>
<li><a href="http://tclap.sourceforge.net">TCLAP - Templatized C++ Command Line Parser</a></li>
</ul>
<h2>Quick How-TOs</h2>
<h3>Ant-pluto</h3>
<p>Ant-pluto is a frontend for Pluto for A2 physics (includes the Tagger). It can generate photoproduction and decays or shoot particles randomly in all directions.</p>
<h4>Example: Pluto Decay</h4>
<p>To use Pluto to simuale, for example, the omega &mdash;&gt; pi0 gamma do: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Ant-pluto --pluto --reaction &quot;p omega [ pi0 g ]&quot; --Emin 1400 --Emax 1600 --numEvents 10000 --saveIntermediate --enableBulk -v 2 -o sim.root</div>
</div><!-- fragment --><p> This will generate 10k events in the incident photon energy range 1400 MeV to 1600 MeV, saving unstable particles. The pi0 will decay into different channels according to the Pluto database.</p>
<h4>Example: Random Gun</h4>
<p>Shoot 1000 protons into TAPS, 1 proton/Event, 0 to 1 GeV </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Ant-pluto --gun --numEvents 1000 --particle p --particles-event 1 --theta-max 25 --Emax 1000</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
